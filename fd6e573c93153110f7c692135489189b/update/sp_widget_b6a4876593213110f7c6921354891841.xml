<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($rootScope, $scope) {
	/* widget controller */
	var c = this;
	$scope.onSelected = function (value) {
		c.server.get({});
		if(value!="")  $scope.dropdownClass=true;
		else   $scope.dropdownClass=false;
		$rootScope.$broadcast('Level', value);
	};
};]]></client_script>
        <controller_as>c</controller_as>
        <css>.level{&#13;
&#13;
  padding : 6px; &#13;
  border-radius: 4px;&#13;
  border: 2px #4F52BD solid; &#13;
  justify-content: flex-start; &#13;
  align-items: center;&#13;
  text-align: center; &#13;
  color: #4F52BD; &#13;
  font-size: 16px;&#13;
  font-family: Lato; &#13;
  font-weight: 600; &#13;
  line-height: 20px; &#13;
  word-wrap: break-word;&#13;
}&#13;
&#13;
&#13;
.selected{&#13;
  padding-top: 6px; &#13;
  padding-bottom: 6px; &#13;
  background: #4F52BD ; &#13;
  border-radius: 4px;&#13;
  border: 1px #4F52BD solid; &#13;
  justify-content: flex-start; &#13;
  align-items: center; &#13;
  text-align: center; &#13;
  color: white; &#13;
  font-size: 16px;&#13;
  font-family: Lato; &#13;
  font-weight: 600; &#13;
  line-height: 20px; &#13;
  word-wrap: break-word;&#13;
}&#13;
&#13;
.custom-select {&#13;
  position: relative;&#13;
  display: inline-block;&#13;
}&#13;
&#13;
/* Styles for the custom dropdown arrow */&#13;
.custom-select::after {&#13;
  content: "\25BE"; // Unicode character for a downward arrow /&#13;
  position: absolute;&#13;
  top: 50%;&#13;
  right: 10px;&#13;
  transform: translateY(-50%);&#13;
  pointer-events: none;&#13;
  color: #4F52BD; &#13;
}&#13;
&#13;
.custom-select.white::after {&#13;
  color: white;&#13;
}&#13;
&#13;
/* Styles for the custom dropdown items */&#13;
.custom-select select {&#13;
  appearance: none;&#13;
  -webkit-appearance: none;&#13;
  -moz-appearance: none;&#13;
  padding-right: 25px; // Adjust padding to make space for the custom arrow &#13;
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>_levelfilter</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Level Filter</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	/* populate the 'data' object */
	/* e.g., data.table = $sp.getValue('table'); */
	 
	 data.notes = [];
	var noteGR = new GlideRecord('sys_choice');
	noteGR.addEncodedQuery("nameLIKEsn_learning_course_course^elementLIKElevel");
	noteGR.query();
	data.notes = {};
	data.notes.value = [];
	data.notes.type = "Level";
	while(noteGR.next())
	{
		data.notes.value.push(noteGR.getDisplayValue('value'));
	}  
	 
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-09-28 04:00:52</sys_created_on>
        <sys_id>b6a4876593213110f7c6921354891841</sys_id>
        <sys_mod_count>122</sys_mod_count>
        <sys_name>Level Filter</sys_name>
        <sys_package display_value="LEARNING COURSES" source="sn_learning_course">fd6e573c93153110f7c692135489189b</sys_package>
        <sys_policy/>
        <sys_scope display_value="LEARNING COURSES">fd6e573c93153110f7c692135489189b</sys_scope>
        <sys_update_name>sp_widget_b6a4876593213110f7c6921354891841</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-10-31 12:07:11</sys_updated_on>
        <template><![CDATA[<div class="custom-select" ng-class="{ 'white': dropdownClass }"  >
  <!-- Visible part of the dropdown -->
    <select class="level"   ng-model="c.data.levels" ng-change="onSelected(c.data.levels)" ng-class="{ 'selected': dropdownClass }"  >
  <option value= ""  disabled selected> {{c.data.notes.type}}</option>
  <option ng-repeat="d in  c.data.notes.value" value="{{ d   }}">{{ d  }}</option>
</select>
</div>

 
 ]]></template>
    </sp_widget>
</record_update>
